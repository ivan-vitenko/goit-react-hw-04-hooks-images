(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__dkCte",Loader:"ImageGallery_Loader__1EreS"}},14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1l_Yc",Modal:"Modal_Modal__2B0PP"}},17:function(e,t,a){e.exports={Button:"Button_Button__1P92e"}},24:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a.n(n),o=a(5),s=a.n(o),i=(a(23),a(24),a(3)),u=a(4),l=a(7),m=a.n(l);var b=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(i.a)(a,2),o=c[0],s=c[1];return Object(r.jsx)("header",{className:m.a.Searchbar,children:Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),s("")):u.b.error("Enter image query")},className:m.a.SearchForm,children:[Object(r.jsx)("button",{type:"submit",className:m.a.SearchFormButton,children:Object(r.jsx)("span",{className:m.a.SearchFormButtonLabel,children:"Search"})}),Object(r.jsx)("input",{className:m.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){s(e.currentTarget.value.toLowerCase())}})]})})},j=a(6),h=a.n(j),g=a(15),d=a(11),p=a(16),f=a.n(p),O=a(13),S=a.n(O),I=a(9),_=a.n(I);var x=function(e){return e.images.map((function(e){return Object(r.jsx)("li",{className:_.a.ImageGalleryItem,children:Object(r.jsx)("img",{id:e.id,src:e.webformatURL,srclarge:e.largeImageURL,alt:"",className:_.a.ImageGalleryItemImage})},e.id)}))};function y(){return(y=Object(d.a)(h.a.mark((function e(t,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(t,"&page=").concat(a,"&per_page=12&key=3749534-832657ce2c7737c7c4ba585dd"));case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v={fetchPixabayImages:function(e,t){return y.apply(this,arguments)}};var w=function(e){var t=e.query,a=e.page,c=e.setLastPage,o=e.resetState,s=e.openImage,l=Object(n.useState)([]),m=Object(i.a)(l,2),b=m[0],j=m[1],p=Object(n.useState)(0),O=Object(i.a)(p,2),I=O[0],y=O[1],w=Object(n.useState)(!1),F=Object(i.a)(w,2),L=F[0];F[1],Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.fetchPixabayImages(t,a);case 2:n=e.sent,j((function(e){return[].concat(Object(g.a)(e),Object(g.a)(n.hits))})),y(n.total),r(),k(),c(Math.ceil(I/12));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r(){b.length||(u.b.error("\u0417\u0430 \u0437\u0430\u043f\u0438\u0442\u043e\u043c \u043d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0456\u043d\u0448\u0438\u0439 \u0437\u0430\u043f\u0438\u0442!"),o())}t&&function(){e.apply(this,arguments)}()}),[t,a]);var k=function(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})};return b&&Object(r.jsxs)("div",{children:[Object(r.jsx)("ul",{onClick:function(e){s(e.target.closest(".".concat(_.a.ImageGalleryItem)).querySelector("img").getAttribute("srclarge"))},className:S.a.ImageGallery,children:Object(r.jsx)(x,{images:b,openImage:s})}),L&&Object(r.jsx)("div",{className:S.a.Loader,children:Object(r.jsx)(f.a,{type:"Circles",color:"#3f51b5",height:40,width:40})})]})},F=a(17),L=a.n(F);var k=function(e){var t=e.onClick;return Object(r.jsx)("button",{autoFocus:!0,onClick:t,type:"button",className:L.a.Button,children:"Load more"})},B=a(14),C=a.n(B);var G=function(e){var t=e.imageURL,a=e.closeImage;return window.addEventListener("keydown",a),Object(r.jsx)("div",{onClick:a,className:C.a.Overlay,children:Object(r.jsx)("div",{className:C.a.Modal,children:Object(r.jsx)("img",{src:t,alt:""})})})};var N=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(0),s=Object(i.a)(o,2),l=s[0],m=s[1],j=Object(n.useState)(1),h=Object(i.a)(j,2),g=h[0],d=h[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),O=f[0],S=f[1],I=Object(n.useState)(""),_=Object(i.a)(I,2),x=_[0],y=_[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)(b,{onSubmit:function(e){c(e),m(1)}}),a&&Object(r.jsx)(w,{query:a,page:l,setLastPage:function(e){d(e),l<g&&S(!0)},resetState:function(){c(""),m(0),d(1),S(!1),y("")},openImage:function(e){y(e)}}),O&&Object(r.jsx)(k,{onClick:function(){m((function(e){return e+1})),l===g-1&&(S(!1),u.b.info("\u0417\u0430 \u0437\u0430\u043f\u0438\u0442\u043e\u043c \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043e \u043e\u0441\u0442\u0430\u043d\u043d\u0456 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438"))}}),x&&Object(r.jsx)(G,{imageURL:x,closeImage:function e(t){t.target!==t.currentTarget&&"Escape"!==t.code||(y(""),window.removeEventListener("keydown",e))}}),Object(r.jsx)(u.a,{autoClose:4e3})]})},P=(a(47),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,51)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),r(e),n(e),c(e),o(e)}))});s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(N,{})}),document.getElementById("root")),P()},7:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1bDOu",SearchForm:"Searchbar_SearchForm__2B87a",SearchFormButton:"Searchbar_SearchFormButton__3P7St",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__mBzmV",SearchFormInput:"Searchbar_SearchFormInput__347JP"}},9:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1e-w2",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3WF3u"}}},[[48,1,2]]]);
//# sourceMappingURL=main.75ab5607.chunk.js.map