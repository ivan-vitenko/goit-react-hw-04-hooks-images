{"version":3,"sources":["conponents/ImageGallery/ImageGallery.module.css","conponents/Modal/Modal.module.css","conponents/Button/Button.module.css","conponents/Searchbar/Searchbar.js","conponents/ImageGalleryItem/ImageGalleryItem.js","services/PixabayAPI.js","conponents/ImageGallery/ImageGallery.js","conponents/Button/Button.js","conponents/Modal/Modal.js","App.js","reportWebVitals.js","index.js","conponents/Searchbar/Searchbar.module.css","conponents/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","s","event","preventDefault","trim","toast","error","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","ImageGalleryItem","images","map","image","id","src","webformatURL","srclarge","largeImageURL","alt","ImageGalleryItemImage","page","a","fetch","response","json","api","fetchPixabayImages","ImageGallery","isNewQuery","setLastPage","setVisibilityLoadMore","resetState","openImage","setImages","showLoader","setShowLoader","useEffect","imagesIsAvailable","newImages","hits","length","pixabayAPI","state","scrollToEndPage","lastPage","Math","ceil","total","fetchImages","window","scrollTo","top","document","body","scrollHeight","behavior","onClick","target","closest","sItem","querySelector","getAttribute","Loader","color","height","width","Button","Modal","imageURL","closeImage","addEventListener","Overlay","App","setIsNewQuery","setPage","visibilityLoadMore","setLargeImageURL","newQuery","info","code","removeEventListener","autoClose","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5f786959.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__dkCte\",\"Loader\":\"ImageGallery_Loader__1EreS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1l_Yc\",\"Modal\":\"Modal_Modal__2B0PP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1P92e\"};","import { useState } from 'react';\nimport { toast } from 'react-toastify';\n\nimport s from './Searchbar.module.css';\n\nfunction Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const handleQueryChange = event => {\n    setQuery(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (query.trim() === '') {\n      toast.error('Enter image query');\n      return;\n    }\n    // console.log(query);\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form onSubmit={handleSubmit} className={s.SearchForm}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={query}\n          onChange={handleQueryChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nexport default Searchbar;\n","import s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ images }) {\n  return images.map(image => (\n    <li key={image.id} className={s.ImageGalleryItem}>\n      <img\n        id={image.id}\n        src={image.webformatURL}\n        srclarge={image.largeImageURL}\n        alt=\"\"\n        className={s.ImageGalleryItemImage}\n      />\n    </li>\n  ));\n}\n\nexport default ImageGalleryItem;\n","async function fetchPixabayImages(query, page) {\n  const response = await fetch(\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=3749534-832657ce2c7737c7c4ba585dd`,\n  );\n\n  return await response.json();\n}\n\nconst api = {\n  fetchPixabayImages,\n};\n\nexport default api;\n","import { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport Loader from 'react-loader-spinner';\nimport s from './ImageGallery.module.css';\nimport sItem from '../ImageGalleryItem/ImageGalleryItem.module.css';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport pixabayAPI from '../../services/PixabayAPI';\n\nfunction ImageGallery({\n  query,\n  isNewQuery,\n  page,\n  setLastPage,\n  setVisibilityLoadMore,\n  resetState,\n  openImage,\n}) {\n  const [images, setImages] = useState([]);\n  const [showLoader, setShowLoader] = useState(false);\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    fetchImages();\n\n    async function fetchImages() {\n      if (isNewQuery) {\n        setImages([]);\n      }\n\n      setShowLoader(true);\n\n      const newImages = await pixabayAPI.fetchPixabayImages(query, page);\n      setImages(state => [...state, ...newImages.hits]);\n\n      setShowLoader(false);\n\n      imagesIsAvailable();\n      scrollToEndPage();\n\n      const lastPage = Math.ceil(newImages.total / 12);\n      setLastPage(lastPage);\n\n      if (page < lastPage) {\n        setVisibilityLoadMore(true);\n      }\n\n      function imagesIsAvailable() {\n        if (!newImages.hits.length) {\n          toast.error('За запитом нічого не знайдено. Спробуйте інший запит!');\n          resetState();\n        }\n      }\n    }\n  }, [query, page]);\n\n  const scrollToEndPage = () => {\n    window.scrollTo({\n      top: document.body.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  const handleClickImage = event => {\n    openImage(\n      event.target\n        .closest(`.${sItem.ImageGalleryItem}`)\n        .querySelector('img')\n        .getAttribute('srclarge'),\n    );\n  };\n\n  return (\n    images && (\n      <div>\n        <ul onClick={handleClickImage} className={s.ImageGallery}>\n          <ImageGalleryItem images={images} openImage={openImage} />\n        </ul>\n\n        {showLoader && (\n          <div className={s.Loader}>\n            <Loader type=\"Circles\" color=\"#3f51b5\" height={40} width={40} />\n          </div>\n        )}\n      </div>\n    )\n  );\n}\n\nexport default ImageGallery;\n","import s from './Button.module.css';\n\nfunction Button({ onClick }) {\n  return (\n    <button autoFocus onClick={onClick} type=\"button\" className={s.Button}>\n      Load more\n    </button>\n  );\n}\n\nexport default Button;\n","import s from './Modal.module.css';\n\nfunction Modal({ imageURL, closeImage }) {\n  window.addEventListener('keydown', closeImage);\n\n  return (\n    <div onClick={closeImage} className={s.Overlay}>\n      <div className={s.Modal}>\n        <img src={imageURL} alt=\"\" />\n      </div>\n    </div>\n  );\n}\n\nexport default Modal;\n","import { useState } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport { toast } from 'react-toastify';\n\nimport Searchbar from './conponents/Searchbar/Searchbar';\nimport ImageGallery from './conponents/ImageGallery/ImageGallery';\nimport Button from './conponents/Button/Button';\nimport Modal from './conponents/Modal/Modal';\n\nfunction App() {\n  const [query, setQuery] = useState('');\n  const [isNewQuery, setIsNewQuery] = useState(true);\n  const [page, setPage] = useState(0);\n  const [lastPage, setLastPage] = useState(1);\n  const [visibilityLoadMore, setVisibilityLoadMore] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState('');\n\n  const resetState = () => {\n    setQuery('');\n    setIsNewQuery(true);\n    setPage(0);\n    setLastPage(1);\n    setVisibilityLoadMore(false);\n    setLargeImageURL('');\n  };\n\n  const handleLoadMore = () => {\n    setIsNewQuery(false);\n\n    setPage(state => state + 1);\n\n    if (page === lastPage - 1) {\n      setVisibilityLoadMore(false);\n      toast.info('За запитом завантажено останні картинки');\n    }\n  };\n\n  const handleFormSubmit = newQuery => {\n    setIsNewQuery(true);\n    setQuery(newQuery);\n    setPage(1);\n  };\n\n  const openImage = imageURL => {\n    setLargeImageURL(imageURL);\n  };\n\n  const closeImage = event => {\n    if (event.target === event.currentTarget || event.code === 'Escape') {\n      setLargeImageURL('');\n      window.removeEventListener('keydown', closeImage);\n    }\n  };\n\n  return (\n    <div>\n      <Searchbar onSubmit={handleFormSubmit} />\n      {query && (\n        <ImageGallery\n          query={query}\n          isNewQuery={isNewQuery}\n          page={page}\n          setLastPage={setLastPage}\n          setVisibilityLoadMore={setVisibilityLoadMore}\n          resetState={resetState}\n          openImage={openImage}\n        />\n      )}\n\n      {visibilityLoadMore && <Button onClick={handleLoadMore} />}\n\n      {largeImageURL && (\n        <Modal imageURL={largeImageURL} closeImage={closeImage} />\n      )}\n\n      <ToastContainer autoClose={4000} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\nimport 'react-toastify/dist/ReactToastify.css';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1bDOu\",\"SearchForm\":\"Searchbar_SearchForm__2B87a\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3P7St\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__mBzmV\",\"SearchFormInput\":\"Searchbar_SearchFormInput__347JP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1e-w2\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3WF3u\"};"],"sourceRoot":""}